(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{592:function(t,a,s){"use strict";s.r(a);var e=s(3),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("Meta"),t._v(" "),s("p",[s("a",{attrs:{href:"https://juejin.im/post/5ceedf8ff265da1b80202841",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),s("OutboundLink")],1),s("br"),t._v(" "),s("a",{attrs:{href:"https://router.vuejs.org/zh/guide/essentials/history-mode.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"hash"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hash"}},[t._v("#")]),t._v(" hash")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("url")]),t._v("带有"),s("code",[t._v("#")]),t._v("号")]),t._v(" "),s("li",[s("code",[t._v("url")]),t._v("与页面是有关联的，可以利用"),s("code",[t._v("onhashchange")]),t._v("监听"),s("code",[t._v("url")]),t._v("变化")])]),t._v(" "),s("h2",{attrs:{id:"history"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#history"}},[t._v("#")]),t._v(" history")]),t._v(" "),s("ul",[s("li",[t._v("说说html5的history方法吧")])]),t._v(" "),s("h3",{attrs:{id:"pushstate-state-object-title-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pushstate-state-object-title-page"}},[t._v("#")]),t._v(" pushState(state object, title, page)")]),t._v(" "),s("ul",[s("li",[t._v("一个状态对象, 一个标题 (FireFox目前被忽略), 和 (可选的) 一个URL")]),t._v(" "),s("li",[t._v("不会触发hashchange事件")]),t._v(" "),s("li",[t._v("新建了历史记录\n1、假设有两个页面"),s("code",[t._v("foo.html")]),t._v(","),s("code",[t._v("bar.html")]),t._v("\n在"),s("code",[t._v("foo.html")]),t._v("中执行以下Js")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" stateObj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"111"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pushState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stateObj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar.html"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("代码执行完毕之后，我们可以发现"),s("code",[t._v("url")]),t._v("进行了跳转，但是内容没有变化，刷新之后又可以见了。")]),t._v(" "),s("h3",{attrs:{id:"replacestate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#replacestate"}},[t._v("#")]),t._v(" replaceState()")]),t._v(" "),s("ul",[s("li",[t._v("效果与上面一样，但是是修改了当前页面的历史记录。而不是新建一个。")])]),t._v(" "),s("h2",{attrs:{id:"vue路由的实现原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue路由的实现原理"}},[t._v("#")]),t._v(" vue路由的实现原理")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://juejin.im/post/5c52da9ee51d45221f242804",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),s("OutboundLink")],1)]),t._v(" "),s("ul",[s("li",[t._v("hash 通过hashChange监听url的变化，来改变页面的内容")]),t._v(" "),s("li",[t._v("history 是通过history.pushState来进行跳转和记录内容，通过监听popstate事件进行改变页面的内容")])])],1)}),[],!1,null,null,null);a.default=r.exports}}]);